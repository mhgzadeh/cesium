<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />
    <meta name="description" content="Add bloom effect to the scene.">
    <meta name="cesium-sandcastle-labels" content="Showcases, Post Processing">
    <title>Cesium Demo</title>
    <script src="https://cesium.com/downloads/cesiumjs/releases/1.92/Build/Cesium/Cesium.js"></script>
    <link href="https://cesium.com/downloads/cesiumjs/releases/1.92/Build/Cesium/Widgets/widgets.css" rel="stylesheet">

</head>

<body>
    <style>
        html,
        body,
        #cesiumContainer {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
    </style>
    <div id="cesiumContainer"></div>

    <script>
        function startup(Cesium) {
            'use strict';
            //Sandcastle_Begin
            const viewer = new Cesium.Viewer("cesiumContainer");

            function createModel(url, x, y, height) {
                const position = Cesium.Cartesian3.fromDegrees(x, y, height);
                viewer.entities.add({
                    name: url,
                    position: position,
                    model: {
                        uri: url,
                    },
                });
            }

            const numberOfColumns = 5;
            const lonIncrement = 0.00028;
            const latIncrement = 0.00020;
            const initialLon = 9.3916122322;
            const initialLat = 48.8206017603;
            const height = 0;

            const url = "./data/solar.glb";
            console.log(url);

            for (let i = 0; i < numberOfColumns; ++i) {
                const lon = initialLon + i * lonIncrement;
                for (let j = 0; j < numberOfColumns; ++j) {
                    const lat = initialLat + j * latIncrement;
                    console.log(lon, initialLat, height);
                    createModel(url, lon, lat, height);
                }
            }

            
            const target = Cesium.Cartesian3.fromDegrees(
                initialLon + lonIncrement,
                initialLat,
                height + 7.5

            );

            console.log(target);
            const offset = new Cesium.Cartesian3(
                45,
                44,
                45
            );

            viewer.scene.camera.lookAt(target, offset);
        }
        if (typeof Cesium !== 'undefined') {
            window.startupCalled = true;
            startup(Cesium);
        }
    </script>
</body>

</html>